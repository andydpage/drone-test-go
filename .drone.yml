---
kind: pipeline
type: docker
name: default

steps:
- name: backend
  image: golang
  commands:
  - go build
  - go test
  
- name: frontend
  image: node
  commands:
  - npm install
  - npm run test

services:
- name: redis
  image: redis

- name: publish
  image: plugins/docker
  settings:
    repo: hello/world
    tags: latest
    dry_run: true
